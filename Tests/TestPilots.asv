%% Code to test if the getContinuousPilots function works properly
% The environment is reseted
clc, clear, close all force;
parameters;
f_vector = zeros(NFFT,1);

% Pilots with the getContinuousPilots function are generated
[indexes, pilot_values,values]=getContinuousPilots();
for i = indexes
    f_vector(i+(NFFT-CARRIERS)/2,1) = pilot_values(i+1);
end
correct_pilots = correctPilots(CARRIERS);
% Pilots are ploted
difference = values-correct_pilots;

figure
subplot(3,1,1)
plot(abs(values))
title("V getContinuousPilots() generated")

subplot(3,1,2)
plot(abs(correct_pilots))
title("Correct pilots")

subplot(3,1,3)
plot(abs(f_vector))
title("Final OFDM signal")